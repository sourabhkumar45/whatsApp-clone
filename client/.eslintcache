[{"/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/index.js":"1","/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/App.js":"2","/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/reportWebVitals.js":"3","/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/components/SearchPeople/SearchPeople.js":"4","/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/components/Login/Login.js":"5","/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/components/ChatSection/ChatSection.js":"6","/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/components/ProfileSection/ProfileSection.js":"7","/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/components/ChatCardListing/ChatCardListing.js":"8","/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/components/ChatHeader/ChatHeader.js":"9","/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/components/Chat/Chat.js":"10","/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/components/ChatForm/ChatForm.js":"11","/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/utils/apiEndpoints.js":"12","/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/utils/apiRequest.js":"13","/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/context/SocketContext.js":"14","/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/context/AuthContext.js":"15","/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/reducers/friendListReducer.js":"16","/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/utils/helper.js":"17","/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/reducers/chatsReducer.js":"18"},{"size":500,"mtime":1629658730000,"results":"19","hashOfConfig":"20"},{"size":5107,"mtime":1632418824205,"results":"21","hashOfConfig":"20"},{"size":362,"mtime":1629658730000,"results":"22","hashOfConfig":"20"},{"size":401,"mtime":1629662350000,"results":"23","hashOfConfig":"20"},{"size":1800,"mtime":1629900760000,"results":"24","hashOfConfig":"20"},{"size":3866,"mtime":1632579356534,"results":"25","hashOfConfig":"20"},{"size":610,"mtime":1632388287638,"results":"26","hashOfConfig":"20"},{"size":2250,"mtime":1632419044485,"results":"27","hashOfConfig":"20"},{"size":1112,"mtime":1632580013723,"results":"28","hashOfConfig":"20"},{"size":1013,"mtime":1632569491796,"results":"29","hashOfConfig":"20"},{"size":3279,"mtime":1632580623042,"results":"30","hashOfConfig":"20"},{"size":367,"mtime":1632408415155,"results":"31","hashOfConfig":"20"},{"size":830,"mtime":1632390487340,"results":"32","hashOfConfig":"20"},{"size":104,"mtime":1632387867424,"results":"33","hashOfConfig":"20"},{"size":100,"mtime":1632387811294,"results":"34","hashOfConfig":"20"},{"size":872,"mtime":1632379494165,"results":"35","hashOfConfig":"20"},{"size":213,"mtime":1632418218687,"results":"36","hashOfConfig":"20"},{"size":384,"mtime":1632554928599,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"1wchapb",{"filePath":"41","messages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"40"},{"filePath":"44","messages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"40"},{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"67","messages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"71","messages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"73","messages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"75","messages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/index.js",[],["77","78"],"/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/App.js",["79"],"import { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useCookies } from \"react-cookie\";\nimport { useReducer } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport ProfileSection from \"./components/ProfileSection/ProfileSection\";\nimport SearchPeople from \"./components/SearchPeople/SearchPeople\";\nimport ChatCardListing from \"./components/ChatCardListing/ChatCardListing\";\nimport ChatSection from \"./components/ChatSection/ChatSection\";\nimport Login from \"./components/Login/Login\";\n\nimport { BASE_URL, LOGIN, USER_LIST } from \"./utils/apiEndpoints\";\nimport { postRequest, getRequest } from \"./utils/apiRequest\";\n\nimport AuthContext from \"./context/AuthContext\";\nimport SocketContext from \"./context/SocketContext\";\n\nimport friendListReducer from \"./reducers/friendListReducer\";\n\nimport io from \"socket.io-client\";\nimport \"./App.scss\";\n\nconst initialState = {}; // stores the message\n\nconst socket = io.connect(\"http://localhost:2000\", {\n  reconnection: true,\n  reconnectionDelay: 500,\n  reconnectionAttempts: 10,\n});\n\nfunction App() {\n  const [cookie, setCookie, removeCookie] = useCookies([\"messagingApp\"]);\n  const [error, setError] = useState(null);\n  const [userObj, setUserObj] = useState(() => {\n    return cookie.user;\n  });\n  const [recentMsg, setRecentMsg] = useState({});\n  const [recentOnlineFriend, setRecentOnlineFirend] = useState({});\n  const [recentOfflineFriend, setRecentOfflineFirend] = useState({});\n\n  const [friendList, friendListDispath] = useReducer(\n    friendListReducer,\n    initialState\n  );\n\n  // prevent state change on refresh\n  useEffect(() => {\n    if (userObj && userObj.sessionId) {\n      joinUser(userObj);\n      getFriendList(userObj);\n    }\n  }, []);\n\n  const handleLogin = async (userData) => {\n    const formData = new FormData();\n    if (userData.file) {\n      formData.append(\"profileImg\", userData.file, userData.file.name);\n    }\n    formData.append(\"payload\", JSON.stringify({ name: userData.name }));\n\n    const response = await postRequest(`${BASE_URL}${LOGIN}`, formData);\n    console.log(\"printing user data\", response);\n    if (response.error) {\n      setError(response.error);\n      alert(error);\n      return false;\n    } else {\n      setCookie(\"user\", response);\n      setUserObj(response);\n      joinUser(response);\n      getFriendList(response);\n    }\n  };\n  const getFriendList = async (userData) => {\n    console.log(\"inside getFriendList\");\n    const response = await getRequest(\n      `${BASE_URL}${USER_LIST}/${userData.sessionId}`\n    );\n    console.log(response);\n    if (response.error) {\n      setError(response.error);\n      return false;\n    } else {\n      friendListDispath({ type: \"FRIENDS\", payload: response });\n      onlineOfflineUser();\n    }\n  };\n\n  const onlineOfflineUser = () => {\n    socket.on(\"new-online-user\", (data) => {\n      friendListDispath({ type: \"NEW_FRIENDS\", payload: data });\n      setRecentOnlineFirend(data);\n    });\n    socket.on(\"new-offline-user\", (data) => {\n      setRecentOfflineFirend(data);\n    });\n  };\n  const handleLogOut = () => {\n    removeCookie(\"user\");\n    setUserObj(null);\n  };\n\n  const joinUser = (userData) => {\n    let initData = {\n      createdAt: userData.createdAt,\n      name: userData.name,\n      profileImg: userData.profileImg,\n      sessionId: userData.sessionId,\n      updatedAt: userData.updatedAt,\n      _id: userData._id,\n    };\n    socket.emit(\"join-user\", initData, (cbData) => {\n      console.log(\"user-joint\");\n    });\n\n    socket.on(\"receive-msg\", (data) => {\n      console.log(data);\n      updateRecentMsg(data);\n      setRecentMsg(data);\n    });\n\n    socket.on(\"user-typing\", (data) => {\n      console.log(data);\n      updateRecentMsg(data);\n    });\n  };\n  const updateRecentMsg = (data) => {\n    friendListDispath({ type: \"RECENT_MSG\", payload: data });\n  };\n  return (\n    <>\n      {!(userObj && userObj.sessionId) ? (\n        <Login handleLogin={handleLogin}></Login>\n      ) : (\n        <AuthContext.Provider value={userObj}>\n          <SocketContext.Provider value={socket}>\n            <div className=\"App\">\n              <Router>\n                <div className=\"left-side\">\n                  <ProfileSection\n                    handleLogOutFn={handleLogOut}\n                  ></ProfileSection>\n                  <SearchPeople></SearchPeople>\n                  <ChatCardListing friendList={friendList}></ChatCardListing>\n                </div>\n                <Switch>\n                  <Route path=\"/:id\">\n                    <div className=\"right-side\">\n                      <ChatSection\n                        updateRecentMsg={updateRecentMsg}\n                        recentMsg={recentMsg}\n                        recentOnlineFriend={recentOnlineFriend}\n                        recentOfflineFriend={recentOfflineFriend}\n                      ></ChatSection>\n                    </div>\n                  </Route>\n                </Switch>\n              </Router>\n            </div>\n          </SocketContext.Provider>\n        </AuthContext.Provider>\n      )}\n    </>\n  );\n}\n\nexport default App;\n","/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/reportWebVitals.js",[],"/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/components/SearchPeople/SearchPeople.js",[],"/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/components/Login/Login.js",[],"/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/components/ChatSection/ChatSection.js",["80","81","82","83","84"],"/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/components/ProfileSection/ProfileSection.js",[],"/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/components/ChatCardListing/ChatCardListing.js",["85"],"import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronDown } from \"@fortawesome/free-solid-svg-icons\";\nimport { shortFormatTime } from \"./../../utils/helper\";\n\nimport { NavLink } from \"react-router-dom\";\n\nimport \"./ChatCardListing.scss\";\nimport friendListReducer from \"../../reducers/friendListReducer\";\nconst ChatCardListing = ({ friendList }) => {\n  const renderMessage = (data) => {\n    let msg = \"\";\n    if (data.recentMsg && data.recentMsg.msg) {\n      if (data.recentMsg.msg.type === \"message\") {\n        msg = data.recentMsg.msg.value;\n      } else if (data.recentMsg.msg.type === \"file\") {\n        msg = \"Media Shared\";\n      } else if (data.recentMsg.msg.type === \"typing\") {\n        msg = <i style={{ color: \"#a7a7a7\" }}>Typing...</i>;\n      } else msg = \"\";\n    }\n\n    return msg;\n  };\n  return (\n    <div className=\"chat-card-listing\">\n      {Object.keys(friendList).map((key) => {\n        return (\n          <NavLink\n            key={friendList[key].sessionId}\n            className=\"note-card\"\n            to={`/${key}`}\n          >\n            <div className=\"card\">\n              {friendList[key].profileImg ? (\n                <div className=\"img-container\" key={friendList[key].sessionId}>\n                  <img src={friendList[key].profileImg} alt=\"profile\"></img>\n                </div>\n              ) : (\n                <div className=\"img-container\" key={friendList[key].sessionId}>\n                  <img\n                    src=\"https://wallpaperaccess.com/full/2213424.jpg\"\n                    alt=\"\"\n                  ></img>\n                </div>\n              )}\n              <div className=\"card-details\">\n                <h4 className=\"title\">{friendList[key].name}</h4>\n                <p className=\"desc\">{renderMessage(friendList[key])}</p>\n              </div>\n              <div className=\"time\">\n                {friendList[key].recentMsg &&\n                  shortFormatTime(friendList[key].recentMsg.time)}\n              </div>\n              <div className=\"action-btn\">\n                <FontAwesomeIcon icon={faChevronDown}></FontAwesomeIcon>\n              </div>\n            </div>\n          </NavLink>\n        );\n      })}\n    </div>\n  );\n};\nexport default ChatCardListing;\n","/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/components/ChatHeader/ChatHeader.js",[],"/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/components/Chat/Chat.js",[],"/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/components/ChatForm/ChatForm.js",[],"/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/utils/apiEndpoints.js",[],"/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/utils/apiRequest.js",[],"/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/context/SocketContext.js",[],"/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/context/AuthContext.js",[],"/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/reducers/friendListReducer.js",[],"/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/utils/helper.js",[],"/Users/sourabhkumar/Desktop/WebD/WhatsApp clone/client/src/reducers/chatsReducer.js",[],{"ruleId":"86","replacedBy":"87"},{"ruleId":"88","replacedBy":"89"},{"ruleId":"90","severity":1,"message":"91","line":53,"column":6,"nodeType":"92","endLine":53,"endColumn":8,"suggestions":"93"},{"ruleId":"94","severity":1,"message":"95","line":29,"column":10,"nodeType":"96","messageId":"97","endLine":29,"endColumn":15},{"ruleId":"90","severity":1,"message":"98","line":42,"column":6,"nodeType":"92","endLine":42,"endColumn":15,"suggestions":"99"},{"ruleId":"90","severity":1,"message":"100","line":48,"column":6,"nodeType":"92","endLine":48,"endColumn":22,"suggestions":"101"},{"ruleId":"90","severity":1,"message":"102","line":54,"column":6,"nodeType":"92","endLine":54,"endColumn":26,"suggestions":"103"},{"ruleId":"90","severity":1,"message":"102","line":64,"column":6,"nodeType":"92","endLine":64,"endColumn":27,"suggestions":"104"},{"ruleId":"94","severity":1,"message":"105","line":8,"column":8,"nodeType":"96","messageId":"97","endLine":8,"endColumn":25},"no-native-reassign",["106"],"no-negated-in-lhs",["107"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'getFriendList', 'joinUser', and 'userObj'. Either include them or remove the dependency array.","ArrayExpression",["108"],"no-unused-vars","'error' is assigned a value but never used.","Identifier","unusedVar","React Hook useEffect has missing dependencies: 'getChats' and 'getFriendInfo'. Either include them or remove the dependency array.",["109"],"React Hook useEffect has missing dependencies: 'isChatLoading', 'paramId', and 'recentMsg'. Either include them or remove the dependency array.",["110"],"React Hook useEffect has missing dependencies: 'friendInfo' and 'paramId'. Either include them or remove the dependency array. You can also do a functional update 'setFriendInfo(f => ...)' if you only need 'friendInfo' in the 'setFriendInfo' call.",["111"],["112"],"'friendListReducer' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"113","fix":"114"},{"desc":"115","fix":"116"},{"desc":"117","fix":"118"},{"desc":"119","fix":"120"},{"desc":"121","fix":"122"},"Update the dependencies array to be: [getFriendList, joinUser, userObj]",{"range":"123","text":"124"},"Update the dependencies array to be: [getChats, getFriendInfo, paramId]",{"range":"125","text":"126"},"Update the dependencies array to be: [isChatLoading, paramId, recentMsg, recentMsg.time]",{"range":"127","text":"128"},"Update the dependencies array to be: [friendInfo, paramId, recentOnlineFriend]",{"range":"129","text":"130"},"Update the dependencies array to be: [friendInfo, paramId, recentOfflineFriend]",{"range":"131","text":"132"},[1752,1754],"[getFriendList, joinUser, userObj]",[1232,1241],"[getChats, getFriendInfo, paramId]",[1410,1426],"[isChatLoading, paramId, recentMsg, recentMsg.time]",[1569,1589],"[friendInfo, paramId, recentOnlineFriend]",[1802,1823],"[friendInfo, paramId, recentOfflineFriend]"]